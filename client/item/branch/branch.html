<div class="row">
	<div class="col m12">
		<h5 class="left">Edit <a href="#/company/{{vm.branch.company._id}}">{{vm.branch.company.name}}</a> - {{vm.branch.location.city}} Branch
		</h5>
		<a class="btn blue darken-4 right" href="#/branches">Back</a>
	</div>
</div>
<div class="row">
	<form class="col m12">
		<div class="row">
		  <div id="company-select" class="col s3 m3">
		    <label>Change Company</label>
		  	<select class="browser-default validate" ng-model='vm.new_company' required>
			    <option value="" disabled>{{vm.branch.company.name}}</option>
		      <option ng-repeat="company in vm.companies" value="{{company._id}}">{{company.name}}</option>
		    </select>
		  </div>
		</div>
		<div class="row">
		  <div class="input-field col s3 m3">
		    <input ng-model='vm.branch.location.street' id="street" type="text" class="validate">
		    <label class="active" for="street">Address</label>
		  </div>
		  <div class="input-field col s3 m3">
		    <input ng-model='vm.branch.location.city' id="city" type="text" class="validate">
		    <label class="active" for="city">City</label>
		  </div>
		  <div class="input-field col s3 m2">
		    <input ng-model='vm.branch.location.state' id="state" type="text" class="validate">
		    <label class="active" for="state">State</label>
		  </div>
		  <div class="input-field col s3 m2">
		    <input ng-model='vm.branch.location.country' id="country" type="text" class="validate">
		    <label class="active" for="country">Country</label>
		  </div>
		  <div class="col s2 m2">
		    <label>Region</label>
		  	<select class="browser-default validate" ng-model='vm.branch.location.region' id="region" required>
		      <option ng-repeat="region in vm.regions">{{region}}</option>
		    </select>
		  </div>
		</div>
		<div class="row">
			<div class="col m12">
				<input type='submit' value='Submit' ng-click='vm.edit()' class="btn green accent-4">
			</div>
		</div>
	</form>
</div>
<div class="row">
	<div class="col m12">
		<h5>Airports: </h5>
		<table class="bordered highlight">
			<tr ng-repeat="airport in vm.branch.airports | orderBy: 'airport.name' track by $index" ng-click="vm.view('/branch/' + vm.branch_id + '/airport/' + airport._id)">
				<td>{{airport.name}}</td>
				<td>{{airport.location.street}} {{airport.location.city}}, {{airport.location.country}}</td>
			</tr>
		</table>
		<h5>Hotels: </h5>
		<table class="bordered highlight">
			<tr ng-repeat="hotel in vm.branch.hotels | orderBy: 'hotel.name' track by $index" ng-click="vm.view('/branch/' + vm.branch_id + '/hotel/' + hotel._id)">
				<td>{{hotel.name}}</td>
				<td>{{hotel.phone}}</td>
				<td>{{hotel.location.street}} {{hotel.location.city}}, {{hotel.location.country}}</td>
			</tr>
		</table>
		<h5>Restaurants: </h5>
		<table class="bordered highlight">
			<tr ng-repeat="restaurant in vm.branch.restaurants | orderBy: 'restaurant.name' track by $index" ng-click="vm.view('/branch/' + vm.branch_id + '/restaurant/' + restaurant._id)">
				<td>{{restaurant.name}}</td>
				<td>{{restaurant.phone}}</td>
				<td>{{restaurant.location.street}} {{restaurant.location.city}}, {{restaurant.location.country}}</td>
			</tr>
		</table>
	</div>
</div>
<div class="row blue blue-text darken-4 text-darken-4 z-depth-2">-</div>

<div class="row">
	<div class="col m12">
		<a class="btn blue darken-4" href="#/airports/{{vm.branch_id}}">Add airport</a>
		<a class="btn blue darken-4" href="#/hotels/{{vm.branch_id}}">Add hotel</a>
		<a class="btn blue darken-4" href="#/restaurants/{{vm.branch_id}}">Add restaurant</a>
	</div>
</div>
<div class="row red red-text z-depth-2">-</div>
<div class="row">
	<div class="col m12">
		<h5 class="red-text">WARNING: Delete branch</h5>
		<div ng-click="vm.remove(vm.branch)" class="btn blue-grey darken-3 red-text">Delete</div>
	</div>
</div>